/*
 	Video-Previewer (anteriormente Youtube-Preview)
 	Creado por ZeroDragon <npm@zerothedragon.com>
 	Licencia de software: MIT
 	Este código se proporciona tal cual y el uso es responsabilidad del usuario.
 	Para más información ver el repositorio en https://github.com/ZeroDragon/Youtube-Preview
 */
var $ZeroDragon,VideoPreview;VideoPreview={width:560,height:315,paletes:{mint:{boxBG:"#cae1f9",arrowBG:"#47a3ff"},lime:{boxBG:"#caf7cd",arrowBG:"#47ff65"},cinamon:{boxBG:"#f7caca",arrowBG:"#ff4747"}},palete:"mint",holderStyle:""},$ZeroDragon={getTag:function(e){return document.getElementsByTagName(e)},getID:function(e){return document.getElementById(e)},removeClass:function(e,t){return e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},domReady:function(e){return document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),e()},!1):document.attachEvent?document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),e())}):void 0},getJSON:function(e,t){var o;o=new XMLHttpRequest,o.overrideMimeType("application/json"),o.onreadystatechange=function(){var e;e=4===o.readyState&&200===o.status,e&&t(JSON.parse(o.responseText)[0])},o.open("GET",e,!0),o.send()}},function(e){var t,o,i;if("undefined"!=typeof videoPreview&&null!==videoPreview)for(t in videoPreview)i=videoPreview[t],VideoPreview[t]=i;return VideoPreview.color=VideoPreview.paletes[VideoPreview.palete],VideoPreview.playImage='<svg width="92" height="92" xmlns="http://www.w3.org/2000/svg"><g><title>Play</title><rect opacity="0.9" ry="24" rx="24" id="svg_1" height="87" width="87" y="2.5" x="2.5" stroke-width="5" stroke="#ffffff" fill="'+VideoPreview.color.boxBG+'"/><path id="svg_3" d="m33.84636,74.58079l8.22989,-29.31224l-8.2299,-26.57616l27.94421,27.9442l-27.94419,27.94419z" stroke-linecap="null" stroke-linejoin="null" stroke-width="0" stroke="#ffffff" fill="'+VideoPreview.color.arrowBG+'"/></g></svg>',null!=VideoPreview.play&&(VideoPreview.playImage='<img src="'+VideoPreview.play+'"/>'),VideoPreview.display=function(t,o){var i;i=e.getID("overlay"+t),i.outerHTML='<iframe src="'+o+'" width="'+VideoPreview.width+'" height="'+VideoPreview.height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',e.removeClass(e.getID("holder"+t),"holderStyle")},o=document.createElement("style"),o.innerHTML=".videoHolder{ width:"+VideoPreview.width+"px; height:"+VideoPreview.height+"px; position:relative; display:inline-block; overflow:hidden; box-sizing:border-box; } .videoHolder.holderStyle{"+VideoPreview.holderStyle+"} .videoHolder .videoIframe{ position:absolute; top:0; left:0; } .videoHolder .videoImage{ position:absolute; top:0; left:0; width:"+VideoPreview.width+"px; height:"+VideoPreview.height+"px; background-size:cover; display:inline-block; } .videoHolder .overlays{ position:relative; height:"+VideoPreview.height+"px; width:100%; } .videoHolder .playbtn{ cursor:pointer; position:absolute; top:50%; left:50%; -webkit-transform:translate(-50%,-50%); -moz-transform:translate(-50%,-50%); transform:translate(-50%,-50%); } .videoHolder .playbtn:hover{ -webkit-opacity:0.9; -moz-opacity:0.9; opacity:0.9; }",document.head.appendChild(o),e.domReady(function(){var o;(o=function(i){var r,a,n,l,d,s,v;return s=e.getTag("vp"),d=s.length-1,l=s[0],v=l.getAttribute("url"),a=-1!==v.search("=")?v.split("=").pop():-1!==v.search("youtu.be/")?v.split("youtu.be/").pop():v.split("/").pop(),n='<div class="videoHolder holderStyle" id="holder'+t+"-"+a+'">',r=function(e,r,n){var l,s;return l=r.thumbnail_large,s=r.videoUrl,n+="<div style=\"background:url('"+l+'\') no-repeat center center;" class="videoImage" id="overlay'+t+"-"+a+'">',n+='<div class="overlays"><a href="javascript:;" onClick="VideoPreview.display(\''+t+"-"+a+"','"+s+'\');" class="playbtn">'+VideoPreview.playImage+"</a>",n+="</div></div></div>",e.outerHTML=n,0===d?i():o(i)},a%1===0?e.getJSON("http://vimeo.com/api/v2/video/"+a+".json",function(e){return e.videoUrl="https://player.vimeo.com/video/"+a+"?autoplay=1",r(l,e,n)}):function(e){return e({thumbnail_large:"http://img.youtube.com/vi/"+a+"/0.jpg",videoUrl:"https://www.youtube.com/embed/"+a+"?autoplay=1"})}(function(e){return r(l,e,n)})})(function(){})})}($ZeroDragon);